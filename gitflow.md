# Именование бранчей

Имя ветки       | Описание
----------------|---------
master          | Ветка содержит только то, что выехало в прод. После мержа в ```master``` необходимо назначить ```tag``` с номером версии, что она стала отображаться в [релизах](https://github.com/aurusov/rdo-xtext/releases). Нумерация по правилам [deb-version](http://manpages.ubuntu.com/manpages/natty/man5/deb-version.5.html). Если кратко, то версия состоит из трёх чисел ```major.minor.fix```. Если в новой версии теряется обратная совместимость, то увеличивается ```major```. Если добавили новую фичу - ```minor```. Если исправили баг - ```fix```.
release/current | Основная ветка. Как правило, совпадает с ```master```. Когда в мастер выехал новый релиз или hotfix, то его надо подмержить в ```release/current```. Подмержить именно ```master -> release/current```, а не релиз или hotfix. От этой ветки создаются бранчи для разработки фич и релизные ветки. Используется для рефакторинга кода - он заливается прямо сюда. Т.е. вновь созданные фичи будут включать отрефакторенный код, даже до выхода нового релиза. А в текущие фичи-ветки рефакторинг подмерживается руками.
release/version | Создаётся от ```release/current```. Используется для подготовки нового номерного релиза. Имеет формат ```release/major.minor```, например, ```release/1.2```. Означает, что мы или выпускаем продукт с новой фичей под версией ```1.2.0``` или правим баг. Если баг, то окончательная версия может быть ```1.2.7```. В эту ветку подливаются все фичи-ветки, которые готовятся к релизу. Важно - это ветка может быть удалена в любой момент и пересоздана. Никаких коммитов с кодом в ней быть не должно. Только мержи фичи-веток. После выезда кода в прод, ветка мержится в мастер. После мержа должны быть удалена вместе со всем выехавшими фича-ветками.
feature/name    | Создаётся от ```release/current```. Используется для разработки нового функционала (фичи). В конце работы должна быть влита в ```release/version```. В неё в любой момент времени может быть подлит ```release/current```. С другими ветками она не должна мержиться, потому что в релиз поедет непонятно что.
bug/name        | Создаётся от ```release/current```. Используется для исправления ошибок, если фича-ветка уже удалена. На практике нужна редко, потому что разработка и отладка фичи довольно долго ведётся в её ветке.
hotfix/name     | Создаётся от ```master```. Используется для срочного исправления кода в мастере, в обход всех веток. Результат мержится в мастер и ветка удаляется. Как всегда, код из мастера подмерживается в ```release/current``` и далее по фичам. Даже не знаю, когда такое может понадобиться при разработке РДО. Написано для полноты картины.

# Что там с форками
Имя ветки                            | Описание
-------------------------------------|---------
master и resease/current             | Живут только в основном репозитории. Должны быть уникальными на все форки.
release/version                      | Живёт в форке отвественного за релиз. Ветка должна быть уникальной на все форки. По умолчанию в основном репозитории
feature/name, bug/name и hotfix/name | Живут в том форке, где по ним ведётся разработка
