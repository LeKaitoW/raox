<html>
<head>
<link rel="stylesheet" type="text/css" href="../styles/rao_general.css">
<link rel="stylesheet" href="../styles/rao_highlight.css">
<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
<script src="../scripts/thirdparty/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="../scripts/thirdparty/jquery-2.1.4.min.js"></script>
<script src="../scripts/table_of_contents.js"></script>
</head>
<body>
<h2>Группы активностей</h2>
<p>Активности, из подхода сканирования активностей, объединяются в логические группы. Должна существовать, как минимум, одна группа. Общий вид:</p>
<pre><code class="rao">logic <i>Имя_группы</i> {
    def init() {
        <i>инициализация_группы</i>
    }
    <i>список_активностей</i>
}
</code></pre>
<p>После каждого изменения состояния системы осуществляются проверки предусловий выполнения всех групп. В случае, если одна из групп может быть выполнена, запускается алгоритм проверки активностей. Активности представляют собой вызовы образцов модели с фиксированными параметрами.</p>
<h3>Инициализация группы активностей</h3>
<p>Внутри метода <code class="rao">init()</code> могут быть установлены:</p>
<table style="width:100%">
    <tr>
        <th width="35%">Параметр</th>
        <th width="65%">Описание</th>
    </tr>
    <tr>
        <td><pre><code class="rao">condition = [<i>логическое_выражение</i>]</code></pre></td>
        <td>Задаёт условие активизации группы. Если логическое выражение <code class="rao">ЛОЖНО</code>, то сканирование вложенных активностей проводится не будет. Если параметр отсутствует, то сканирование будет проводиться всегда.</td>
    </tr>
    <tr>
        <td><pre><code class="rao">parent = <i>имя_родительской_группы</i></code></pre></td>
        <td>Задаёт родительскую группы. Если группа имеет дочерние, то в процессе сканирования активностей будут просканированы все активности дочерней. При равном приоритете сначала будут просканированы активности дочерней. Если условие родительской группы ложно, то дочерняя не будет сканироваться.</td>
    </tr>
    <tr>
        <td><pre><code class="rao">priority = [<i>арифметическое_выражение</i>]</code></pre></td>
        <td>Задаёт приоритет выполнения группы. Результат арифметического выражения должен быть ограничен диапазоном [0,1]. Чем больше значение, тем выше приоритет. Если приоритет не задан, то он принимается равным 1.</td>
    </tr>
</table>
<p>Если ни один из параметров задавать не нужно, то метод <code class="rao">init()</code> может отсутствовать.</p>
<h3>Активности</h3>
<p>Точка принятия решений может иметь произвольное число активностей. Описание активности имеет следующий вид:</p>
<pre><code class="rao">activity <i>имя_активности</i> = new Activity(<i>Имя_образца</i>.create(<i>парамеры_образца</i>), <i>приоритет_активности</i>)</code></pre>
<p>Если приоритет не задан, он принимается равным единице. Примеры:</p>
<pre><code class="rao">logic Работа_токарного_цеха {
    activity входной_контроль_заготовок = new Activity(Контроль_заготовок.create(Тип_заготовки.вал, Тип_контроля.входной))
    activity выходной_контроль_заготовок = new Activity(Контроль_заготовок.create(Тип_заготовки.вал, Тип_контроля.выходной))

    def init() {
        priority = [1.0]
    }
}

logic Токарная_обработка_валов {
    activity черновая_обработка = new Activity(Образец_черновой_обработки.create(Тип_заготовки.вал, Тип_станка.токарный), 0.0)
    activity чистовая_обработка = new Activity(Образец_чистовой_обработки.create(Тип_заготовки.вал, Тип_станка.токарный), 0.7)

    def init() {
        condition = [токарный_цех.число_необработанных_заготовок > 0]
        parent = Работа_токарного_цеха
    }
}
</code></pre>
</body>
</html>
